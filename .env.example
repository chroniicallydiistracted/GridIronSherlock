# GridIronSherlock â€” .env.example
# Copy to .env, fill secrets, DO NOT COMMIT .env
# Local-dev sensible defaults provided where applicable.

################################
# General / runtime
################################
APP_ENV=development
NODE_ENV=development
DEBUG=true
LOG_LEVEL=info
SERVICE_NAME=gridiron-sherlock

# Ports
PORT_WEB=3000
PORT_API=8000

################################
# Web (Next.js) - public runtime vars
################################
# Base URL the web app will call for API requests (must include /v1 if you want)
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000/v1
# Optional public DSNs
NEXT_PUBLIC_SENTRY_DSN=

################################
# API (FastAPI)
################################
API_HOST=0.0.0.0
API_PORT=8000
# Security - generate a long random string for local dev (do not commit)
SECRET_KEY=replace-me-with-secure-random
JWT_ALGORITHM=HS256
JWT_EXP_SECONDS=3600

################################
# Database (Postgres / Neon)
################################
# Local Postgres default for dev. Replace with NEON/production DSN when deploying.
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/gridiron_sherlock?sslmode=disable
PGHOST=localhost
PGPORT=5432
PGUSER=postgres
PGPASSWORD=postgres
PGDATABASE=gridiron_sherlock

# Alternate cloud-style DSN (Neon) placeholder:
NEON_DATABASE_URL=postgresql://<user>:<pass>@<host>:<port>/<db>?sslmode=require

################################
# Redis / Upstash (caching, rate-limits, pub/sub)
################################
# For local dev you can run redis on localhost:6379
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Upstash REST style (if used)
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

################################
# Cloudflare R2 (object store) - local dev can use filesystem path
################################
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET=
R2_ENDPOINT=https://<account>.r2.cloudflarestorage.com
# For local dev/mocks, write to this dir
R2_LOCAL_DIR=./tmp/r2

################################
# Google Cloud (Secret Manager, Scheduler)
################################
# Path to service account JSON for local dev; do NOT commit the JSON file
GOOGLE_APPLICATION_CREDENTIALS=./secrets/gcloud-service-account.json
GOOGLE_PROJECT_ID=
# Optional: prefix for reading secrets
GCP_SECRET_MANAGER_PREFIX=projects/<project>/secrets

################################
# OAuth (stubs / dev)
################################
OAUTH_CALLBACK_BASE_URL=http://localhost:8000/api/oauth
OAUTH_YAHOO_CLIENT_ID=
OAUTH_YAHOO_CLIENT_SECRET=
OAUTH_ESPN_CLIENT_ID=
OAUTH_ESPN_CLIENT_SECRET=
OAUTH_SLEEPER_CLIENT_ID=
OAUTH_SLEEPER_CLIENT_SECRET=
OAUTH_NFL_CLIENT_ID=
OAUTH_NFL_CLIENT_SECRET=

################################
# ETL / Data paths (local dev)
################################
NFLVERSE_CACHE_DIR=./artifacts/nflverse
ETL_OUTPUT_DIR=./artifacts/etl
ETL_TMP_DIR=./tmp/etl

################################
# Feature engineering & models
################################
FEATURE_DUCKDB_PATH=./artifacts/features/features.duckdb
MODEL_ARTIFACTS_DIR=./artifacts/models
OPTIMIZER_MAX_TIME=30   # seconds
OPTIMIZER_SEED=42

################################
# Live / SSE
################################
LIVE_REDIS_CHANNEL=live:v1
LIVE_PUBSUB_REDIS_URL=${REDIS_URL}

################################
# Observability / tracing
################################
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=gridiron-sherlock
SENTRY_DSN=

################################
# Test / CI overrides (optional)
################################
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5433/gridiron_sherlock_test?sslmode=disable
CI=false

################################
# Notes
################################
# - Copy this file to .env and fill in credentials for cloud providers (Neon, Upstash, R2, Google).
# - Use local Postgres and Redis for fast dev; update DATABASE_URL/REDIS_URL when pointing to hosted services.
# - GOOGLE_APPLICATION_CREDENTIALS should point to a local JSON file (keep outside repo).
# - Keep secrets out of git; use secret managers in CI and production.
